(this.webpackJsonpdicey=this.webpackJsonpdicey||[]).push([[0],{113:function(e,t,n){var r=n(204),a=["compute"];e.exports=function(){var e=new Worker(n.p+"e54143ae7d5aafae3f5f.worker.js",{name:"[hash].worker.js"});return r(e,a),e}},124:function(e,t,n){var r=n(196).default,a=n(126).default,o=n(127).default,i=n(128).default,s=function(e,t){return t=isNaN(parseFloat(t))?t:parseFloat(t),(e=isNaN(parseFloat(e))?e:parseFloat(e))>t?-1:t>e?1:0},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"==e.type&&1==e.value)return t;var r=e.denseCloud(),a=r.values;return 1==a.length?new p(new Array(a[0].k[0]).fill(t),n):r.transform((function(e){return new p(new Array(e[0]).fill(t),n)}))},u=function(){"use strict";function e(){o(this,e),this.entries={},this.total=0,this.dense=!0,this.sum=0}return i(e,[{key:"add",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;1!=e.length?(this.dense=!1,n=e):n=JSON.stringify(e),this.entries[n]?this.entries[n].w+=t:this.entries[n]={k:e,w:t,sources:r},this.dense&&(this.sum+=e[0]*t),this.total+=t}},{key:"done",value:function(){if(this.total>1e30){var e=1e10;for(var t in this.entries)this.entries[t].w/=e;this.total/=e,this.dense&&(this.sum/=e)}var n=new b(this.entries,this.total,this.dense);return this.dense&&(n.sum=this.sum),n}}]),e}(),l=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;o(this,e),this.sides=t,this.times=void 0==n?new m(1):n}return i(e,[{key:"type",get:function(){return"die"}},{key:"debug",value:function(){return"d".concat(this.sides.debug())}},{key:"denseCloud",value:function(){return this.tx().denseCloud()}},{key:"tx",value:function(){var t=this;if("number"==this.sides.type){if(0==this.sides.value)return new b({"[0]":{k:[0],w:1}},1,!0);for(var n=new u,r=1;r<=Math.max(0,0|this.sides);++r)n.add([r],1,[this]);return c(this.times,n.done())}if("set"==this.sides.type&&this.sides.collapse){for(var a=new u,o=0;o<this.sides.elements.length;++o)a.add([this.sides.elements[o].value],1,[this]);return c(this.times,a.done())}return this.sides.denseCloud().transform((function(n){return 0==n[0]?new b({"[0]":{k:[0],w:1}},1,!0):new e(new m(n[0]),t.times).denseCloud()}))}},{key:"cloud",value:function(){return"number"==this.times.type&&1==this.times.value?this.tx().denseCloud():this.tx().cloud()}}]),e}();function d(e,t){var n,r=new u,o=a(e.values);try{for(o.s();!(n=o.n()).done;){var i,c=n.value,l=a(t.values);try{for(l.s();!(i=l.n()).done;){var d=i.value,h=[].concat(c.k,d.k);h.sort(s);var f=void 0;c.sources&&d.sources&&(f=[].concat(c.sources,d.sources)),r.add(h,d.w*c.w,f)}}catch(p){l.e(p)}finally{l.f()}}}catch(p){o.e(p)}finally{o.f()}return r.done()}var h=function(){"use strict";function e(t){o(this,e),this.body=t}return i(e,[{key:"type",get:function(){return"block"}},{key:"output",value:function(){return this.body}}]),e}(),f=function(){"use strict";function e(t,n){o(this,e),this.name=t,this.arguments=n}return i(e,[{key:"fn",value:function(){var e=n(201)[this.name];if(!e)throw new Error("Undefined function '".concat(this.name,"'"));return e.apply(this,this.arguments)}},{key:"denseCloud",value:function(){return this.fn().denseCloud()}},{key:"number",value:function(){return this.fn().number()}},{key:"cloud",value:function(){switch(this.name){case"sum":case"max":case"min":return this.denseCloud();default:return this.fn().cloud()}}}]),e}(),p=function(){"use strict";function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o(this,e),this.elements=t,this.collapse=n}return i(e,[{key:"type",get:function(){return"set"}},{key:"debug",value:function(){return"{"+this.elements.map((function(e){return e.debug()})).join(",")+"}"}},{key:"cloud",value:function(){for(var e=this.collapse?this.elements.map((function(e){return e.denseCloud()})):this.elements.map((function(e){return e.cloud()}));e.length>1;){for(var t=[],n=0;n<e.length;n+=2){if(e.length==n+1){t.push(e[n]);break}t.push(d(e[n],e[n+1]))}e=t}return e[0]}},{key:"denseCloud",value:function(){for(var e=this.elements.map((function(e){return e.denseCloud()}));e.length>1;){for(var t=[],n=0;n<e.length;n+=2){if(e.length==n+1){t.push(e[n]);break}if(n>1&e[n]===e[n-2]&&e[n+1]===e[n-1])t.push(t[t.length-1]);else{var r,o=new u,i=a(e[n].values);try{for(i.s();!(r=i.n()).done;){var s,c=r.value,l=a(e[n+1].values);try{for(l.s();!(s=l.n()).done;){var d=s.value,h=c.k[0]+d.k[0];o.add([h],d.w*c.w)}}catch(f){l.e(f)}finally{l.f()}}}catch(f){i.e(f)}finally{i.f()}t.push(o.done())}}e=t}return e[0]}}]),e}(),b=function(){"use strict";function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o(this,e),this.values=Object.values(t),this.total=n,this.dense=r;for(var a=0,i=Object.values(t);a<i.length;a++){var s=i[a];if(void 0===s.k)throw new Error("Invalid map")}}return i(e,[{key:"type",get:function(){return"cloud"}},{key:"cloud",value:function(){return this}},{key:"denseCloud",value:function(){return this.dense?this:this.collapse()}},{key:"number",value:function(){if(1!=this.values.length)throw new Error("Wanted a single value.");if(1!=this.values[0].k.length)throw new Error("Wanted a single value.");return new m(this.values[0].k[0])}},{key:"collapse",value:function(e){if(void 0==e&&this.dense)return this;void 0==e&&(e=function(e){return[e.reduce((function(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e+" "+t}))]});var t,n=new u,r=a(this.values);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.k.length>0){var i=e(o.k);n.add(i,o.w)}else n.add([0],o.w)}}catch(s){r.e(s)}finally{r.f()}return n.done()}},{key:"transform",value:function(e){var t,n=new u,r=a(this.values);try{for(r.s();!(t=r.n()).done;){var o,i=t.value,s=e(i.k,i).cloud(),c=a(s.values);try{for(c.s();!(o=c.n()).done;){var l=o.value,d=l.w/s.total*i.w;n.add(l.k,d)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){r.e(h)}finally{r.f()}return n.done()}}]),e}(),m=function(){"use strict";function e(t){o(this,e),this.value=parseFloat(t)}return i(e,[{key:"type",get:function(){return"number"}},{key:"debug",value:function(){return"".concat(this.value)}},{key:"valueOf",value:function(){return this.value}},{key:"cloud",value:function(){var e={};return e[JSON.stringify([this.value])]={k:[this.value],w:1},new b(e,1,this)}},{key:"denseCloud",value:function(){return this.cloud()}},{key:"number",value:function(){return this}}]),e}(),g=function(){"use strict";function e(t){o(this,e),this.value=t}return i(e,[{key:"cloud",value:function(){var e={};return e[JSON.stringify([this.value])]={k:[this.value],w:1},new b(e,1,this)}},{key:"denseCloud",value:function(){return this.cloud()}},{key:"number",value:function(){throw new Error("needed a number but got a string")}}]),e}(),v=function(){"use strict";function e(t,n,a){var i=r(n,2),s=i[0],c=i[1];o(this,e),this.left=t,this.op=s,this.opMode=c,this.right=a}return i(e,[{key:"denseCloud",value:function(){return this.cloud().collapse()}},{key:"number",value:function(){return this.cloud().number()}},{key:"cloud",value:function(){var t=this;if("dl"==this.op){var n=this.left.cloud();return this.right.denseCloud().transform((function(e){return n.collapse((function(t){return t.slice(0,Math.max(t.length-e[0],0))}))}))}if("dh"==this.op){var r=this.left.cloud();return this.right.denseCloud().transform((function(e){return r.collapse((function(t){return t.slice(e[0])}))}))}if("kh"==this.op){var o=this.left.cloud();return this.right.denseCloud().transform((function(e){return o.collapse((function(t){return t.slice(0,e[0])}))}))}if("kl"==this.op){var i=this.left.cloud();return this.right.denseCloud().transform((function(e){return i.collapse((function(t){return t.slice(Math.max(t.length-e[0],0))}))}))}if("@"==this.op){var d=this.left.denseCloud(),h=this.right.cloud();return d.transform((function(e){return h.collapse((function(t){return e[0]>0&&t.length>=e[0]?[t[e[0]-1]]:[0]}))}))}if("ntimes"==this.op)return c(this.left,this.right).cloud();if("cs"===this.opMode){var f=this.right.number();return this.left.cloud().transform((function(n){var r=n.filter((function(n){return e.applyOp(n,t.op,f)})).length;return new m(r).denseCloud()}))}if("ro"===this.opMode){var b,g=this.right.number(),v=new u,j=a(this.left.cloud().values);try{for(j.s();!(b=j.n()).done;){for(var y=b.value,k=[],x=[],O=0;O<y.k.length;++O)if(e.applyOp(y.k[O],this.op,g)){if(!y.sources)throw new Error("Tried to reroll a value that couldnt be traced back to a die");k.push(new l(y.sources[O].sides))}else x.push(y.k[O]);if(0===k.length)v.add(y.k,y.w,y.sources);else{var w,C=new p(k).cloud(),A=a(C.values);try{for(A.s();!(w=A.n()).done;){var S=w.value,N=[].concat(x,S.k);N.sort(s),v.add(N,y.w*S.w/C.total)}}catch(K){A.e(K)}finally{A.f()}}}}catch(K){j.e(K)}finally{j.f()}return v.done()}if("zu"===this.opMode){var F,E=this.right.number(),B=new u,W=a(this.left.cloud().values);try{for(W.s();!(F=W.n()).done;){for(var D=F.value,T=[],P=0;P<D.k.length;++P)e.applyOp(D.k[P],this.op,E)?T.push(D.k[P]):T.push(0);B.add(T,D.w)}}catch(K){W.e(K)}finally{W.f()}return B.done()}var I,M=this.left.denseCloud(),z=this.right.denseCloud(),R=new u,L=a(M.values);try{for(L.s();!(I=L.n()).done;){var V,U=I.value,H=a(z.values);try{for(H.s();!(V=H.n()).done;){var $=V.value,J=U.w*$.w,q=e.applyOp(U.k[0],this.op,$.k[0]);R.add([q],J)}}catch(K){H.e(K)}finally{H.f()}}}catch(K){L.e(K)}finally{L.f()}return R.done()}}],[{key:"applyOp",value:function(e,t,n){switch(t){case"+":return"number"==typeof e&&"number"==typeof n?e+n:e+" "+n;case"-":return e-n;case"/":return Math.floor(e/n);case"*":return e*n;case">":return e>n?1:0;case"<":return e<n?1:0;case">=":case"<=":return e>=n?1:0;case"==":case"=":return e==n?1:0;case"!=":return e!=n?1:0}}}]),e}();e.exports={Die:l,SetValue:p,Cloud:b,NumberValue:m,BinaryOperation:v,Call:f,Block:h,CloudBuilder:u,StringValue:g,ksort:s,ntimes:c}},172:function(e,t,n){},182:function(e,t,n){"use strict";function r(e,t,n,a){this.message=e,this.expected=t,this.found=n,this.location=a,this.name="SyntaxError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.buildMessage=function(e,t){var n={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?o(e.parts[t][0])+"-"+o(e.parts[t][1]):o(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return"Expected "+function(e){var t,r,a,o=new Array(e.length);for(t=0;t<e.length;t++)o[t]=(a=e[t],n[a.type](a));if(o.sort(),o.length>0){for(t=1,r=1;t<o.length;t++)o[t-1]!==o[t]&&(o[r]=o[t],r++);o.length=r}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(e)+" but "+function(e){return e?'"'+a(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:function(e,t){t=void 0!==t?t:{};var n,a={},o={start:Be},i=Be,s="output",c=Ce("output",!1),u="named",l=Ce("named",!1),d='"',h=Ce('"',!1),f=/^[^"]/,p=Ae(['"'],!0,!1),b=/^[ \n\t\r]/,m=Ae([" ","\n","\t","\r"],!1,!1),g=/^[a-z]/,v=Ae([["a","z"]],!1,!1),j="(",y=Ce("(",!1),k=")",x=Ce(")",!1),O=",",w=Ce(",",!1),C=Ce("cs",!1),A=Ce("ms",!1),S=Ce("ro",!1),N=Ce("zu",!1),F=/^[<>]/,E=Ae(["<",">"],!1,!1),B=Ce("=",!1),W=Ce("==",!1),D=Ce("!=",!1),T=function(e,t){return Ye(e,t)},P=/^[+\-]/,I=Ae(["+","-"],!1,!1),M=/^[*\/]/,z=Ae(["*","/"],!1,!1),R=Ce("@",!1),L="droplow",V=Ce("droplow",!1),U=Ce("dl",!1),H="keeplow",$=Ce("keeplow",!1),J=Ce("kl",!1),q="drophigh",K=Ce("drophigh",!1),_=Ce("dh",!1),G="keephigh",Y=Ce("keephigh",!1),Z=Ce("kh",!1),X=Ce("{",!1),Q=Ce("}",!1),ee="d",te=Ce("d",!1),ne=Ce("d%",!1),re=Ce("dF",!1),ae=/^[\-]/,oe=Ae(["-"],!1,!1),ie=/^[0-9]/,se=Ae([["0","9"]],!1,!1),ce=/^[\\]/,ue=Ae(["\\"],!1,!1),le=/^["']/,de=Ae(['"',"'"],!1,!1),he=" ",fe=Ce(" ",!1),pe=function(e){return{type:"string",value:e.join("")}},be="'",me=Ce("'",!1),ge=/^[^']/,ve=Ae(["'"],!0,!1),je=0,ye=0,ke=[{line:1,column:1}],xe=0,Oe=[];if("startRule"in t){if(!(t.startRule in o))throw new Error("Can't start parsing from rule \""+t.startRule+'".');i=o[t.startRule]}function we(){return e.substring(ye,je)}function Ce(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ae(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Se(t){var n,r=ke[t];if(r)return r;for(n=t-1;!ke[n];)n--;for(r={line:(r=ke[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return ke[t]=r,r}function Ne(e,t){var n=Se(e),r=Se(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function Fe(e){je<xe||(je>xe&&(xe=je,Oe=[]),Oe.push(e))}function Ee(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function Be(){var e,t,n;return e=je,t=function(){var e,t,n,r,o;e=je,t=[],n=je,(r=De())!==a&&(o=We())!==a?n=r=[r,o]:(je=n,n=a);if(n!==a)for(;n!==a;)t.push(n),n=je,(r=De())!==a&&(o=We())!==a?n=r=[r,o]:(je=n,n=a);else t=a;t!==a&&(ye=e,t={type:"block",body:t.map((e=>e[1]))});return e=t}(),t!==a&&(n=De())!==a?(ye=e,e=t=t):(je=e,e=a),e===a&&(e=je,(t=Te())!==a?((n=De())===a&&(n=null),n!==a?(ye=e,e=t={type:"block",body:[{type:"output",expression:t,name:we()}]}):(je=e,e=a)):(je=e,e=a)),e}function We(){var t,n,r,o;return t=je,e.substr(je,6)===s?(n=s,je+=6):(n=a,Fe(c)),n!==a&&De()!==a?(r=function(){var t,n,r;t=je,(n=Te())!==a?(r=function(){var t,n,r,o,i,s;if(t=je,De()!==a)if(e.substr(je,5)===u?(n=u,je+=5):(n=a,Fe(l)),n!==a)if(De()!==a)if(34===e.charCodeAt(je)?(r=d,je++):(r=a,Fe(h)),r!==a){if(o=je,i=[],f.test(e.charAt(je))?(s=e.charAt(je),je++):(s=a,Fe(p)),s!==a)for(;s!==a;)i.push(s),f.test(e.charAt(je))?(s=e.charAt(je),je++):(s=a,Fe(p));else i=a;(o=i!==a?e.substring(o,je):i)!==a?(34===e.charCodeAt(je)?(i=d,je++):(i=a,Fe(h)),i!==a?(ye=t,t=o):(je=t,t=a)):(je=t,t=a)}else je=t,t=a;else je=t,t=a;else je=t,t=a;else je=t,t=a;return t}(),r===a&&(r=null),r!==a?(ye=t,o=r,t=n=[n,we(),o]):(je=t,t=a)):(je=t,t=a);var o;return t}(),r!==a?(ye=t,t=n={type:"output",expression:(o=r)[0],text:o[1],name:o[2]}):(je=t,t=a)):(je=t,t=a),t}function De(){var t,n;for(t=[],b.test(e.charAt(je))?(n=e.charAt(je),je++):(n=a,Fe(m));n!==a;)t.push(n),b.test(e.charAt(je))?(n=e.charAt(je),je++):(n=a,Fe(m));return t}function Te(){var e;return(e=function(){var e,t,n,r,o,i,s,c;if(e=je,(t=Ie())!==a){for(n=[],r=je,(o=De())!==a&&(i=Pe())!==a&&(s=De())!==a&&(c=Ie())!==a?r=o=[o,i,s,c]:(je=r,r=a);r!==a;)n.push(r),r=je,(o=De())!==a&&(i=Pe())!==a&&(s=De())!==a&&(c=Ie())!==a?r=o=[o,i,s,c]:(je=r,r=a);n!==a?(ye=e,e=t=T(t,n)):(je=e,e=a)}else je=e,e=a;e===a&&(e=Ie());return e}())===a&&(e=Je()),e}function Pe(){var t,n,r,o,i,s,c,u;return t=je,n=je,"cs"===e.substr(je,2)?(r="cs",je+=2):(r=a,Fe(C)),r===a&&("ms"===e.substr(je,2)?(r="ms",je+=2):(r=a,Fe(A)),r===a&&("ro"===e.substr(je,2)?(r="ro",je+=2):(r=a,Fe(S)),r===a&&("zu"===e.substr(je,2)?(r="zu",je+=2):(r=a,Fe(N))))),r===a&&(r=null),(n=r!==a?e.substring(n,je):r)!==a?(r=je,o=je,F.test(e.charAt(je))?(i=e.charAt(je),je++):(i=a,Fe(E)),i!==a?(61===e.charCodeAt(je)?(s="=",je++):(s=a,Fe(B)),s===a&&(s=null),s!==a?o=i=[i,s]:(je=o,o=a)):(je=o,o=a),o===a&&("=="===e.substr(je,2)?(o="==",je+=2):(o=a,Fe(W)),o===a&&("!="===e.substr(je,2)?(o="!=",je+=2):(o=a,Fe(D)),o===a&&(61===e.charCodeAt(je)?(o="=",je++):(o=a,Fe(B))))),(r=o!==a?e.substring(r,je):o)!==a?(ye=t,u=r,t=n=(c=n)?{m:c,op:u}:{op:u}):(je=t,t=a)):(je=t,t=a),t}function Ie(){var t,n,r,o,i,s,c,u;if(t=je,(n=Me())!==a){for(r=[],o=je,(i=De())!==a?(P.test(e.charAt(je))?(s=e.charAt(je),je++):(s=a,Fe(I)),s!==a&&(c=De())!==a&&(u=Me())!==a?o=i=[i,s,c,u]:(je=o,o=a)):(je=o,o=a);o!==a;)r.push(o),o=je,(i=De())!==a?(P.test(e.charAt(je))?(s=e.charAt(je),je++):(s=a,Fe(I)),s!==a&&(c=De())!==a&&(u=Me())!==a?o=i=[i,s,c,u]:(je=o,o=a)):(je=o,o=a);r!==a?(ye=t,t=n=Ye(n,r)):(je=t,t=a)}else je=t,t=a;return t===a&&(t=Me()),t}function Me(){var t,n,r,o,i,s,c,u;if(t=je,(n=ze())!==a){for(r=[],o=je,(i=De())!==a?(M.test(e.charAt(je))?(s=e.charAt(je),je++):(s=a,Fe(z)),s!==a&&(c=De())!==a&&(u=ze())!==a?o=i=[i,s,c,u]:(je=o,o=a)):(je=o,o=a);o!==a;)r.push(o),o=je,(i=De())!==a?(M.test(e.charAt(je))?(s=e.charAt(je),je++):(s=a,Fe(z)),s!==a&&(c=De())!==a&&(u=ze())!==a?o=i=[i,s,c,u]:(je=o,o=a)):(je=o,o=a);r!==a?(ye=t,t=n=T(n,r)):(je=t,t=a)}else je=t,t=a;return t===a&&(t=ze()),t}function ze(){var t,n,r,o,i,s,c,u;if(t=je,(n=He())!==a){for(r=[],o=je,(i=De())!==a?((s=Re())===a&&(s=Ve())===a&&(s=Le())===a&&(s=Ue())===a&&(64===e.charCodeAt(je)?(s="@",je++):(s=a,Fe(R))),s!==a&&(c=De())!==a?((u=He())===a&&(u=null),u!==a?o=i=[i,s,c,u]:(je=o,o=a)):(je=o,o=a)):(je=o,o=a);o!==a;)r.push(o),o=je,(i=De())!==a?((s=Re())===a&&(s=Ve())===a&&(s=Le())===a&&(s=Ue())===a&&(64===e.charCodeAt(je)?(s="@",je++):(s=a,Fe(R))),s!==a&&(c=De())!==a?((u=He())===a&&(u=null),u!==a?o=i=[i,s,c,u]:(je=o,o=a)):(je=o,o=a)):(je=o,o=a);r!==a?(ye=t,t=n=T(n,r)):(je=t,t=a)}else je=t,t=a;return t===a&&(t=He()),t}function Re(){var t,n;return t=je,e.substr(je,7)===L?(n=L,je+=7):(n=a,Fe(V)),n===a&&("dl"===e.substr(je,2)?(n="dl",je+=2):(n=a,Fe(U))),n!==a&&(ye=t,n="dl"),t=n}function Le(){var t,n;return t=je,e.substr(je,7)===H?(n=H,je+=7):(n=a,Fe($)),n===a&&("kl"===e.substr(je,2)?(n="kl",je+=2):(n=a,Fe(J))),n!==a&&(ye=t,n="kl"),t=n}function Ve(){var t,n;return t=je,e.substr(je,8)===q?(n=q,je+=8):(n=a,Fe(K)),n===a&&("dh"===e.substr(je,2)?(n="dh",je+=2):(n=a,Fe(_))),n!==a&&(ye=t,n="dh"),t=n}function Ue(){var t,n;return t=je,e.substr(je,8)===G?(n=G,je+=8):(n=a,Fe(Y)),n===a&&("kh"===e.substr(je,2)?(n="kh",je+=2):(n=a,Fe(Z))),n!==a&&(ye=t,n="kh"),t=n}function He(){var t,n,r,o;return(t=Je())===a&&(t=je,40===e.charCodeAt(je)?(n=j,je++):(n=a,Fe(y)),n!==a&&De()!==a&&(r=Te())!==a&&De()!==a?(41===e.charCodeAt(je)?(o=k,je++):(o=a,Fe(x)),o!==a?(ye=t,t=n=r):(je=t,t=a)):(je=t,t=a)),t}function $e(){var t,n,r,o;return(t=_e())===a&&(t=je,40===e.charCodeAt(je)?(n=j,je++):(n=a,Fe(y)),n!==a&&De()!==a&&(r=Te())!==a&&De()!==a?(41===e.charCodeAt(je)?(o=k,je++):(o=a,Fe(x)),o!==a?(ye=t,t=n=r):(je=t,t=a)):(je=t,t=a)),t}function Je(){var t;return(t=qe())===a&&(t=function(){var t,n,r,o;t=je,(n=Ke())!==a&&(ye=t,n=n);(t=n)===a&&(t=je,(n=$e())!==a&&De()!==a&&(r=Ke())!==a?(ye=t,s=r,t=n=1===(i=n)?s:{type:"die",times:i,sides:s.sides}):(je=t,t=a),t===a&&(t=je,(n=$e())!==a&&De()!==a?(100===e.charCodeAt(je)?(r=ee,je++):(r=a,Fe(te)),r!==a&&De()!==a&&(o=qe())!==a?(ye=t,n=function(e,t){return{type:"die",times:e,sides:t}}(n,o),t=n):(je=t,t=a)):(je=t,t=a),t===a&&(t=je,100===e.charCodeAt(je)?(n=ee,je++):(n=a,Fe(te)),n!==a&&De()!==a&&(r=qe())!==a?(ye=t,n=function(e){return{type:"die",sides:e}}(r),t=n):(je=t,t=a))));var i,s;return t}())===a&&(t=function(){var t,n,r,o,i,s,c,u,l,d,h;if(t=je,n=je,r=[],g.test(e.charAt(je))?(o=e.charAt(je),je++):(o=a,Fe(v)),o!==a)for(;o!==a;)r.push(o),g.test(e.charAt(je))?(o=e.charAt(je),je++):(o=a,Fe(v));else r=a;if((n=r!==a?e.substring(n,je):r)!==a&&(r=De())!==a?(40===e.charCodeAt(je)?(o=j,je++):(o=a,Fe(y)),o!==a&&De()!==a?(41===e.charCodeAt(je)?(i=k,je++):(i=a,Fe(x)),i!==a?(ye=t,t=n={type:"call",name:n,args:[]}):(je=t,t=a)):(je=t,t=a)):(je=t,t=a),t===a){if(t=je,n=je,r=[],g.test(e.charAt(je))?(o=e.charAt(je),je++):(o=a,Fe(v)),o!==a)for(;o!==a;)r.push(o),g.test(e.charAt(je))?(o=e.charAt(je),je++):(o=a,Fe(v));else r=a;if((n=r!==a?e.substring(n,je):r)!==a)if((r=De())!==a)if(40===e.charCodeAt(je)?(o=j,je++):(o=a,Fe(y)),o!==a)if(De()!==a)if((i=Te())!==a)if(De()!==a){for(s=[],c=je,44===e.charCodeAt(je)?(u=O,je++):(u=a,Fe(w)),u!==a&&(l=De())!==a&&(d=Te())!==a&&(h=De())!==a?c=u=[u,l,d,h]:(je=c,c=a);c!==a;)s.push(c),c=je,44===e.charCodeAt(je)?(u=O,je++):(u=a,Fe(w)),u!==a&&(l=De())!==a&&(d=Te())!==a&&(h=De())!==a?c=u=[u,l,d,h]:(je=c,c=a);s!==a?(41===e.charCodeAt(je)?(c=k,je++):(c=a,Fe(x)),c!==a?(ye=t,t=n=function(e,t,n){let r=[t];for(let a of n)r.push(a[2]);return{type:"call",name:e,args:r}}(n,i,s)):(je=t,t=a)):(je=t,t=a)}else je=t,t=a;else je=t,t=a;else je=t,t=a;else je=t,t=a;else je=t,t=a;else je=t,t=a}return t}())===a&&(t=_e())===a&&(t=function(){var t,n,r,o,i;t=je,34===e.charCodeAt(je)?(n=d,je++):(n=a,Fe(h));if(n!==a){for(r=[],(o=Ge())===a&&(o=je,f.test(e.charAt(je))?(i=e.charAt(je),je++):(i=a,Fe(p)),(o=i!==a?e.substring(o,je):i)===a&&(o=je,32===e.charCodeAt(je)?(i=he,je++):(i=a,Fe(fe)),o=i!==a?e.substring(o,je):i));o!==a;)r.push(o),(o=Ge())===a&&(o=je,f.test(e.charAt(je))?(i=e.charAt(je),je++):(i=a,Fe(p)),(o=i!==a?e.substring(o,je):i)===a&&(o=je,32===e.charCodeAt(je)?(i=he,je++):(i=a,Fe(fe)),o=i!==a?e.substring(o,je):i));r!==a?(34===e.charCodeAt(je)?(o=d,je++):(o=a,Fe(h)),o!==a?(ye=t,t=n=pe(r)):(je=t,t=a)):(je=t,t=a)}else je=t,t=a;if(t===a)if(t=je,39===e.charCodeAt(je)?(n=be,je++):(n=a,Fe(me)),n!==a){for(r=[],(o=Ge())===a&&(o=je,ge.test(e.charAt(je))?(i=e.charAt(je),je++):(i=a,Fe(ve)),(o=i!==a?e.substring(o,je):i)===a&&(o=je,32===e.charCodeAt(je)?(i=he,je++):(i=a,Fe(fe)),o=i!==a?e.substring(o,je):i));o!==a;)r.push(o),(o=Ge())===a&&(o=je,ge.test(e.charAt(je))?(i=e.charAt(je),je++):(i=a,Fe(ve)),(o=i!==a?e.substring(o,je):i)===a&&(o=je,32===e.charCodeAt(je)?(i=he,je++):(i=a,Fe(fe)),o=i!==a?e.substring(o,je):i));r!==a?(39===e.charCodeAt(je)?(o=be,je++):(o=a,Fe(me)),o!==a?(ye=t,t=n=pe(r)):(je=t,t=a)):(je=t,t=a)}else je=t,t=a;return t}()),t}function qe(){var t,n,r,o,i,s,c,u,l,d;if(t=je,123===e.charCodeAt(je)?(n="{",je++):(n=a,Fe(X)),n!==a)if(De()!==a)if((r=Te())!==a)if(De()!==a){for(o=[],i=je,(s=De())!==a?(44===e.charCodeAt(je)?(c=O,je++):(c=a,Fe(w)),c!==a&&(u=De())!==a&&(l=Te())!==a&&(d=De())!==a?i=s=[s,c,u,l,d]:(je=i,i=a)):(je=i,i=a);i!==a;)o.push(i),i=je,(s=De())!==a?(44===e.charCodeAt(je)?(c=O,je++):(c=a,Fe(w)),c!==a&&(u=De())!==a&&(l=Te())!==a&&(d=De())!==a?i=s=[s,c,u,l,d]:(je=i,i=a)):(je=i,i=a);o!==a?(125===e.charCodeAt(je)?(i="}",je++):(i=a,Fe(Q)),i!==a?(ye=t,t=n=function(e,t){let n=[e];for(let r=0;r<t.length;r++)n.push(t[r][3]);return{type:"set",elements:n}}(r,o)):(je=t,t=a)):(je=t,t=a)}else je=t,t=a;else je=t,t=a;else je=t,t=a;else je=t,t=a;return t}function Ke(){var t,n,r;return t=je,100===e.charCodeAt(je)?(n=ee,je++):(n=a,Fe(te)),n!==a&&(r=$e())!==a?(ye=t,t=n={type:"die",sides:r}):(je=t,t=a),t===a&&(t=je,"d%"===e.substr(je,2)?(n="d%",je+=2):(n=a,Fe(ne)),n!==a&&(ye=t,n={type:"die",sides:100}),(t=n)===a&&(t=je,"dF"===e.substr(je,2)?(n="dF",je+=2):(n=a,Fe(re)),n!==a&&(ye=t,n={type:"die",sides:{type:"set",elements:[-1,0,1]}}),t=n)),t}function _e(){var t,n,r,o,i,s;if(t=je,n=je,r=je,ae.test(e.charAt(je))?(o=e.charAt(je),je++):(o=a,Fe(oe)),o===a&&(o=null),o!==a){if(i=[],ie.test(e.charAt(je))?(s=e.charAt(je),je++):(s=a,Fe(se)),s!==a)for(;s!==a;)i.push(s),ie.test(e.charAt(je))?(s=e.charAt(je),je++):(s=a,Fe(se));else i=a;i!==a?r=o=[o,i]:(je=r,r=a)}else je=r,r=a;return(n=r!==a?e.substring(n,je):r)!==a&&(ye=t,n=parseInt(n)),t=n}function Ge(){var t,n,r;return t=je,ce.test(e.charAt(je))?(n=e.charAt(je),je++):(n=a,Fe(ue)),n!==a?(le.test(e.charAt(je))?(r=e.charAt(je),je++):(r=a,Fe(de)),r!==a?(ye=t,t=n=r):(je=t,t=a)):(je=t,t=a),t}function Ye(e,t){let n=e;for(let r=0;r<t.length;r++)n={type:"math",right:t[r][3]||1,left:n},"string"==typeof t[r][1]?n.op=t[r][1]:Object.assign(n,t[r][1]);return n}if((n=i())!==a&&je===e.length)return n;throw n!==a&&je<e.length&&Fe({type:"end"}),Ee(Oe,xe<e.length?e.charAt(xe):null,xe<e.length?Ne(xe,xe+1):Ne(xe,xe))}}},195:function(e,t){e.exports="\n\n{\n  function math(l,o) {\n     let v = l;\n     for (let i = 0; i < o.length; i++) {\n       v = {type: 'math', right: o[i][3] || 1, left: v};\n       if (typeof(o[i][1]) == \"string\") v.op = o[i][1];\n       else Object.assign(v, o[i][1]);\n     }\n     return v;\n  }\n}\n\nstart =\n  b:Block WS { return b; } /\n  e:Expression WS? { return {\n    type: 'block',\n    body: [{type: 'output', expression: e, name: text()}]\n  }; }\n\nBlock = e:(WS Statement)+ { return {\n  type: 'block',\n  body: e.map(v => v[1]) }; }\n\nStatement = OutputStatement\n\nOutputStatement = 'output' WS e:OutputExpression { return {type: 'output', expression: e[0], text: e[1], name: e[2]}; }\nOutputExpression = e:Expression n:Named? { return [e, text(), n] }\n\nNamed = WS 'named' WS '\"' s:$([^\"]+) '\"' { return s }\n\nWS = [ \\n\\t\\r]*\nExpression = P1Bin / Value\n\nCall = \n  n:$([a-z]+) WS '(' WS ')' { return {type: 'call', name:n, args:[]}; } /\n  n:$([a-z]+) WS '(' WS e:Expression WS o:(',' WS Expression WS)* ')' {\n    let a = [e];\n    for ( let b of o ) a.push(b[2]);\n    return {type: 'call', name:n, args:a}; \n  }\n\n\nCompare = m:$('cs' / 'ms' / 'ro' / 'zu')? o:$([<>]'='?/'=='/'!='/'=') { return m ? {m: m, op: o} : {op: o}; }\n\nP1Bin = l:P2Bin o:(WS e:Compare WS r:P2Bin)* { return math(l,o) } / P2Bin\nP2Bin = l:P3Bin o:(WS e:[+-] WS r:P3Bin)* { return math(l,o); } / P3Bin\nP3Bin = l:P4Bin o:(WS e:[*/] WS r:P4Bin)* { return math(l,o) } / P4Bin\nP4Bin = \n  l:Primary o:(WS e:(DropLow/DropHigh/KeepLow/KeepHigh/'@') WS r:Primary?)* { return math(l,o) } /\n  Primary\n\nDropLow = ('droplow' / 'dl') { return 'dl'; } \nKeepLow = ('keeplow' / 'kl') { return 'kl'; } \nDropHigh = ('drophigh' / 'dh') { return 'dh'; } \nKeepHigh = ('keephigh' / 'kh') { return 'kh'; } \n\nPrimary = Value / '(' WS e:Expression WS ')' { return e }\nNumbery = Number / '(' WS e:Expression WS ')' { return e }\n\nValue =  Set / Cloud / Call / Number / String\n\nSet = '{' WS f:Expression WS e:(WS ',' WS Expression WS)* '}' {\n  let elements = [f];\n  for (let i = 0; i < e.length; i++) {\n    elements.push(e[i][3]);\n  }\n  return {type: 'set', elements: elements };\n}\n\n\nCloud = \n\td:Die {\n    //return { type: 'set', elements: [d] };\n    return d;\n  } /\n  n:Numbery WS d:Die { \n    if (n === 1) return d;\n    return { type: 'die', times: n, sides: d.sides }\n  } /\n  n:Numbery WS 'd' WS d:Set {\n    return { type: 'die', times: n, sides: d };\n  } /\n  'd' WS d:Set {\n    return { type: 'die', sides: d };\n  }\n\nDie =\n  'd' n:Numbery { return {type: 'die', sides: n}; } /\n  'd%' { return {type: 'die', sides: 100}; } /\n  'dF' { return {type: 'die', sides: { type: 'set', elements: [-1, 0, 1] } }; }\n \n\nNumber = d:$([-]?[0-9]+) { return parseInt(d); }\n\nEscapeSequence = [\\\\] e:[\"'] { return e }\nString = \n  '\"' v:(EscapeSequence / $[^\"] / $' ')* '\"' { return { type: 'string', value:  v.join('')}} /\n  \"'\" v:(EscapeSequence / $[^'] / $' ')* \"'\" { return { type: 'string', value:  v.join('')}}\n\n\n"},201:function(e,t,n){var r,a=n(202).default,o=n(126).default,i=n(124),s=i.SetValue,c=i.NumberValue,u=i.CloudBuilder,l=i.ksort,d=i.ntimes,h=i.StringValue,f=function(e,t){if(e.arguments.length!=t)throw new Error("Function '".concat(e.name,"' expets ").concat(t," argument").concat(t>1?"s":""))};function p(){f(this,2);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t[0].number().value,a=t[1].number().value,o=a*a*-2,i=r/2,s=new u,c=0;c<=r;++c)s.add([c],Math.exp((c-i)*(c-i)/o));return s.done()}e.exports=(r={sum:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new s([new s(t)],!0)},normal:p,min:function(e){f(this,1);var t=e.denseCloud().values;return t.sort((function(e,t){return l(t.k,e.k)})),new c(t[0].k[0])},max:function(e){f(this,1);var t=e.denseCloud().values;return t.sort((function(e,t){return l(e.k,t.k)})),new c(t[0].k[0])},explode:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0].denseCloud().values;r.sort((function(e,t){return l(e.k,t.k)}));for(var a=r.shift(),i=new u,s=t.length>1?t[1].value:2,c=0;c<=s;++c){var d,h=new Array(c).fill(a.k[0]),f=1/Math.pow(r.length+1,c),p=c==s?[].concat(r,a):r,b=o(p);try{for(b.s();!(d=b.n()).done;){var m=d.value,g=[].concat(h,m.k);i.add(g,m.w*f)}}catch(v){b.e(v)}finally{b.f()}}return i.done()},set:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new s(t,!0)},bag:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new s(t)},iif:function(e,t,n){if(!e||!t)throw new Error("function iif requires a least two arguments");var r=e.denseCloud();if(r.values.length>2)throw new Error("Condition must only have two outcomes");t=t||new c(0),n=n||new c(0);var a,i=0,s=0,l=o(r.values);try{for(l.s();!(a=l.n()).done;){var d=a.value;if(1===parseInt(d.k))i=d.w;else{if(0!==parseInt(d.k))throw new Error("Condition cloud must only contain 1 and 0, found ".concat(d.k));s=d.w}}}catch(j){l.e(j)}finally{l.f()}if(0===s)return t;if(0===i)return n;var h,f=new u,p=o(t.cloud().values);try{for(p.s();!(h=p.n()).done;){var b=h.value;f.add(b.k,b.w*i*n.cloud().total,b.sources)}}catch(j){p.e(j)}finally{p.f()}var m,g=o(n.cloud().values);try{for(g.s();!(m=g.n()).done;){var v=m.value;f.add(v.k,v.w*s*t.cloud().total,v.sources)}}catch(j){g.e(j)}finally{g.f()}return f.done()},repeat:function(e,t){return f(this,2),d(t,e,!0)}},a(r,"normal",p),a(r,"mean",(function(e){f(this,1);var t=e.denseCloud();return new c(t.sum/t.total)})),a(r,"count",(function(e,t){var n=t.number().value;return e.cloud().transform((function(e){return new c(e.filter((function(e){return e==n})).length).denseCloud()}))})),a(r,"contains",(function(e,t){var n=t.number().value;return e.cloud().transform((function(e){return new c(-1===e.indexOf(n)?0:1).denseCloud()}))})),a(r,"bucket",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length<3)throw new Error("bucket function expects at least 4 args");if(n.length%2!=1)throw new Error("bucket function expects an even number of arguments");return e.denseCloud().transform((function(e){for(var t=0;t<n.length-1;t+=2){if(e<n[t+1].number().value)return n[t]}return n[n.length-1]}))})),a(r,"diez",(function(e){var t=e.cloud().values[0].sources;return new h(t?t.map((function(e){return e.debug()})).join(","):"?")})),r)},203:function(e,t,n){var r=n(127).default,a=n(128).default,o=function(){"use strict";function e(t,n,a){r(this,e),this.expression=t,this.name=n||a||"output",this.named=!!n}return a(e,[{key:"type",get:function(){return"output"}},{key:"denseCloud",value:function(){return this.expression.denseCloud()}},{key:"cloud",value:function(){return this.expression.cloud()}}]),e}();e.exports={Output:o}},205:function(e,t,n){var r={"./about.md":206,"./articles.md":207,"./docs.md":208,"./examples.md":209,"./functions.md":210};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=205},206:function(e,t,n){"use strict";n.r(t),t.default="## About\n\nDicey is based on the wonderful [AnyDice](https://anydice.com/) made by [Jasper Flick](https://catlikecoding.com/jasper-flick/). The syntax has been changed somewhat, with dice notation being aligned closer to [Foundry](https://foundryvtt.com/article/dice-advanced/) and [Roll20](https://wiki.roll20.net/Dice_Reference). Dicey runs completely in the browser, and can be used offline when saved to your phone's homescreen.\n\nDicey is open-source under the MIT license.  Development takes place on [github](https://github.com/basicer/dicey).\n\n### I think I found a problem with your math.\n\nPlease file a bug report on the [Issue Tracker](https://github.com/basicer/dicey/issues/new).\n\n### Can I use Dicey in my app?\n\nMost likely.  There is a sub-module inside dicey called dicey-math, however the API to interact with it is still pretty rough.  It's on the todo list to clean this up.\n\n### Can I define functions like in [AnyDice](https://anydice.com/) or [SnakeEyes](https://snake-eyes.io/)\n\nNot yet.  The goal of dicey is to take dice expressions directly from various games and compute the odds declaratively.  This is something we would like to add eventually."},207:function(e,t,n){"use strict";n.r(t),t.default="# Learn you some stuff\n"},208:function(e,t,n){"use strict";n.r(t),t.default="## Documentation\n\nDicey is based on the wonderful [AnyDice](https://anydice.com/) made by [Jasper Flick](https://catlikecoding.com/jasper-flick/). The syntax has been changed somewhat, with dice notation being aligned closer to [Foundry](https://foundryvtt.com/article/dice-advanced/) and [Roll20](https://wiki.roll20.net/Dice_Reference).\n\n### Basics\n\nDicey fundamentally operates as a calculator, but instead of operating only on numbers, it can also operate on probabilities.\n\nAs an overly simple example, let's add two and two together. You can click on the example to load it.\n\n<kbd>output 2+2</kbd>\n\n<br /><br />\n\nNotice the calculation starts with the word `output`. This instructs Dicey to display the result. You can leave this out, but it's good to know about if you want to output multiple things.\n\n<kbd>output 2+2\noutput 2+2\\*2</kbd>\n\n### Dice\n\nAs a simple example, <kbd>3d6</kbd> represents rolling three six-sided dice.\n\nThe arguments to the die operator aren't limited to numbers. If a <kbd>d{4,5,10}</kbd> sets is passed to the right hand argument, the elements of that set will make up the sides of the die. Similarly a probability can be used as the second argument to give chance to roll die with that number of sides. <kbd>2d(d6)</kbd> would be analogous to rolling a d6 to determine which type of dice to pick up, and then rolling two of those types of dice.\n\n### Sets\n\nSets are formed by placing comma separated elements between `{}`'s. For example <kbd>{3,4,5}</kbd> is a set of three numbers. By default, the elements of a set are added together and displayed as one number. This can be disabled with the `collapse` toggle at the bottom of the calculator page. Sets are by convention stored in descending order.\n\n&gt; <kbd>{3d6, d10} kh 1</kbd> - Take the highest roll between `3d6` and `d10`.\n\n### Operators\n\nThe standard math operators `+ - * /` are defined as normal, with standard order of operation.\n\nThe comparison operators `> >= < <= == !=` use the values `1` and `0` as their output instead of `true` and `false` respectively.  These operators can be modified with `cs ms ro zu` as per [Foundry Die Modifiers](https://foundryvtt.com/article/dice-modifiers/)\n\nThe `kl lh dl dh` binary operators also work as per [Foundry](https://foundryvtt.com/article/dice-advanced/).\n\n### Functions\n\nFunction calls are made similar to C-style languages. For example <kbd>max(d6)</kbd> represents calling the max function and passing `d6` as its only argument.\n\nSee the [function reference](/functions) for a list of built-in functions.\n"},209:function(e,t,n){"use strict";n.r(t),t.default="## Examples"},210:function(e,t,n){"use strict";n.r(t),t.default="## Function Library\n\n### `bag(...)`\n\nAdd the elements of each set to one big set.\n\n&gt; <kbd>bag(3d6, 2d6, {d6, d6, d6})</kbd> = <kbd>8d6</kbd>\n\n\n\n### `bucket(cloud, ...)`\n\n\n\n&gt; <kbd>bucket(2d20kh, 'fumble', 2, 'failure', 10, 'success', 20, 'critical')</kbd>\n\n\n\n### `contains(search, target)`\n\nReturns the field represneting the chance of containing a number.\n\n&gt; <kbd>contains(3d6,6)</kbd>\n\n\n\n### `count(search, target)`\n\nReturns the field represneting the chance of getting a number of target values.\n\n&gt; <kbd>count(3d6,6)</kbd>\n\n\n\n### `iif(condition, concequent, alternate)`\n\nMerge two prbability clouds weighed by condition.\n\n&gt; <kbd>iif(d20+5&gt;12, d8+5, 0)</kbd>\n\n\n\n### `max(v)`\n\nFind the maximum possible outcome in a field.\n\n&gt; <kbd>max(d6)</kbd> = 6\n\n&gt; <kbd>max(3d6)</kbd> = 18\n\n\n\n### `mean(v)`\n\nFind the mean outcome in a field.\n\n&gt; <kbd>mean(d6)</kbd> = 3.5\n\n&gt; <kbd>mean(3d6)</kbd> = 9.6\n\n\n\n### `min(v)`\n\nFind the minimum possible outcome in a field.\n\n&gt; <kbd>min(d6)</kbd> = 1\n\n&gt; <kbd>min(3d6)</kbd> = 2\n\n\n\n### `normal(range, stddev)`\n\nA probability cloud follow the normal distribution from 0 to `range`\nwith mean `range/2` and standard deviation `stddev`\n\n&gt; <kbd>output min(3d6)+normal(max(3d6)-min(3d6),3)\noutput 3d6</kbd>\n\n\n\n### `repeat(what, times)`\n\nA set containing the elment `cloud` repeated `times` times.\n\n&gt; <kbd>repeat(d6, 3)</kbd> = <kbd>3d6</kbd>\n\n\n\n### `set(...)`\n\nCreate a set containing the arguments.\n\n&gt; <kbd>set(3d6, 2d6)</kbd> = <kbd>{3d6, 2d6}</kbd>\n\n\n\n### `sum(...)`\n\nAdd the elements of each set together into a single field.\n\n&gt; <kbd>sum(1, 2, 3)</kbd> = <kbd>6</kbd>\n\n&gt; <kbd>sum(1, d6, 3d6)</kbd> = <kbd>4d6+1</kbd>\n\n\n"},211:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(20),i=n.n(o),s=(n(172),n(11)),c=n(4),u=n(22),l=n(63),d=n(102),h=n(101),f=n(308),p=n(139),b=n(19),m=n(311),g=n(14),v=n(12),j=n(324),y=n(24),k=function(e){return{root:{display:"flex"},active:{color:"red"},toolbar:{paddingRight:24},toolbarIcon:Object(v.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(y.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},muted:{color:e.palette.text.secondary,textDecoration:"none"},fixedHeight:{height:240},rightButton:{float:"right"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},filler:{height:"100%",position:"relative"},byline:{position:"absolute",bottom:5,textAlign:"center",width:"100%"}}},x=n(309),O=n(214),w=n(281),C=n(319),A=n(315),S=n(284),N=n(215),F=n(76),E=n(285),B=n(286),W=n(287),D=n(320),T=n(141),P=n(292),I=n(290),M=n(217),z=n(293),R=n(294),L=n(313),V=n(322),U=n(295),H=n(317),$=n(318),J=n(323),q=n(296),K=n(314),_=n(297),G=n(298),Y=n(299),Z=n(300),X=n(301),Q=n(302),ee=n(303),te=n(304),ne=n(305),re=n(306),ae=n(120),oe=n.n(ae),ie=n(121),se=n.n(ie),ce=n(307),ue=n(83),le=n.n(ue),de=n(135),he=n.n(de),fe=n(133),pe=n.n(fe),be=n(134),me=n.n(be),ge=n(136),ve=n.n(ge),je=n(2),ye=Object(f.a)(k);function ke(e){var t=e.open,n=e.handleDrawerClose,a=ye(),o=[["Calculator","/",Object(je.jsx)(pe.a,{}),{exact:!0}],["Documentation","/docs",Object(je.jsx)(me.a,{})],["Function Library","/functions",Object(je.jsx)(he.a,{})],["About","/about",Object(je.jsx)(ve.a,{})]];return Object(je.jsxs)(j.a,{variant:"permanent",classes:{paper:Object(c.a)(a.drawerPaper,!t&&a.drawerPaperClose)},open:t,children:[Object(je.jsx)("div",{className:a.toolbarIcon,children:Object(je.jsx)(O.a,{onClick:n,children:Object(je.jsx)(le.a,{})})}),Object(je.jsx)(x.a,{}),Object(je.jsxs)(N.a,{children:[o.map((function(e){var t=Object(s.a)(e,4),n=t[0],a=t[1],o=t[2],i=t[3],c=void 0===i?{}:i;return Object(r.createElement)(M.a,Object(v.a)(Object(v.a)({},c),{},{button:!0,activeClassName:"Mui-selected",component:l.b,key:n,to:a}),Object(je.jsx)(z.a,{children:o}),Object(je.jsx)(R.a,{primary:n}))})),Object(je.jsx)(x.a,{}),!1]}),t&&Object(je.jsx)(L.a,{className:a.filler,children:Object(je.jsxs)(L.a,{className:a.byline,children:["made by"," ",Object(je.jsx)("a",{className:a.muted,href:"http://github.com/basicer",children:"Rob"})]})})]})}var xe=n(312),Oe=n(310),we=n(57),Ce=n(9),Ae=n(8),Se=n(17),Ne=n(18),Fe=n(7),Ee=n(137),Be=n(25),We=n(29),De=n(87),Te=n(40),Pe=n.n(Te),Ie=n(99),Me=n(113),ze=n.n(Me),Re=ze()(),Le=Object(g.b)({key:"reload",default:Math.random()}),Ve=Object(g.b)({key:"query",default:"output 3d6"}),Ue=Object(g.c)({key:"parsed",get:function(e){var t=(0,e.get)(Ve);try{return{ok:!0,v:Ie.parser.parse(t)}}catch(n){return{ok:!1,error:n}}}}),He=Object(g.b)({key:"showReload",default:!1}),$e=Object(g.b)({key:"waitingWorker",default:null}),Je=Object(g.b)({key:"collapse",default:!0}),qe=Object(g.b)({key:"mode",default:"normal"}),Ke=Object(g.b)({key:"transpose",default:!1}),_e=!1,Ge=Object(g.b)({key:"sample",default:[]}),Ye=Object(g.b)({key:"fresh",default:!1}),Ze=Object(g.b)({key:" sampleError",default:null}),Xe=Object(g.c)({key:"selector",get:function(){var e=Object(De.a)(Pe.a.mark((function e(t){var n,r,a,o,i,s;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.get,r=n(Ue),a=n(Je),o=n(qe),i=n(Ke),r.ok){e.next=7;break}return e.abrupt("return",!1);case 7:return _e?(Re.terminate(),Re=ze()()):_e=!0,e.next=10,Re.compute({parsed:r,collapse:a,mode:o,transpose:i});case 10:return s=e.sent,_e=!1,e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Qe=Object(g.c)({key:"error",get:function(e){var t=e.get,n=t(Ue);if(!n.ok){var r="".concat(n.error.name,": ");return n.error.location&&(r+=" ".concat(n.error.location.start.line,":").concat(n.error.location.start.column)),r+=" ".concat(n.error.message)}var a=t(Ze);return a||!1}});Be.d.register(Be.g,Be.h,Be.k,Be.i,Be.f,Be.o,Be.c,Be.p);var et={blue:"rgb(54, 162, 235)",red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)",black:"rgb(0, 0, 0)"};function tt(){var e=Object(g.f)(Ge),t=Object(r.useState)([]),n=Object(s.a)(t,2),a=n[0],o=n[1],i=Object(We.a)(),c=Object(r.useState)({datasets:[]}),u=Object(s.a)(c,2),l=u[0],d=u[1],h=Object(r.useState)(!0),f=Object(s.a)(h,2),p=f[0],b=f[1];return Object(r.useEffect)((function(){var t,n={},r=Object(Fe.a)(e);try{for(r.s();!(t=r.n()).done;){var a,s=t.value,c=Object(Fe.a)(s.entries);try{for(c.s();!(a=c.n()).done;){var u=a.value;n[u.name]=!0}}catch(g){c.e(g)}finally{c.f()}}}catch(g){r.e(g)}finally{r.f()}(n=Object.keys(n)).sort((function(e,t){return parseFloat(e)-parseFloat(t)}));var l={labels:n,datasets:e.map((function(t,r){var a=1===e.length?i.palette.text.primary:Object.values(et)[r];return{id:"data".concat(r),label:t.nameIsValue||t.named?t.name:"output ".concat(r+1),parsing:!1,data:n.map((function(e){var n=t.entries.find((function(t){return t.name==e}));return n?{x:e,y:n.uv}:{x:e,y:null}})),fill:!1,backgroundColor:a,borderColor:a}}))},h=500/n.length,f={x:{type:"number",easing:"linear",duration:h,from:NaN,delay:function(e){return"data"!==e.type||e.xStarted?0:(e.xStarted=!0,e.index*h)}},y:{type:"number",easing:"linear",duration:h,from:function(e){if(0===e.index)return e.chart.scales.y.getPixelForValue(100);var t=e.chart.getDatasetMeta(e.datasetIndex);return t.data[e.index-1]?t.data[e.index-1].getProps(["y"],!0).y:e.chart.scales.y.getPixelForValue(100)},delay:function(e){return"data"!==e.type||e.yStarted?0:(e.yStarted=!0,e.index*h)}}};d(l);var m={animation:p?f:void 0,maintainAspectRatio:!1,scales:{y:{min:0,ticks:{color:i.palette.text.secondary,beginAtZero:!0,callback:function(e){return this.getLabelForValue(e)+"%"}},title:{text:"Chance",display:!1}},x:{ticks:{beginAtZero:!0,color:i.palette.text.secondary}}},plugins:{legend:{position:"bottom",labels:{color:i.palette.text.secondary}}},interaction:{intersect:!1,mode:"index"}};o(m),b(!1)}),[e,i]),console.log("CHART",a,l),Object(je.jsx)(Ee.a,{type:"line",options:a,data:l,className:""})}var nt=Object(f.a)((function(e){return{textbox:{"& textarea":{fontFamily:"monospace"}},card:{paddingBottom:0}}}));function rt(){var e=nt(),t=Object(g.d)(Ve),n=Object(s.a)(t,2),r=n[0],a=n[1],o=Object(g.f)(Qe);return Object(je.jsxs)(te.a,{children:[Object(je.jsx)(ne.a,{className:e.card,children:Object(je.jsx)(D.a,{className:e.textbox,id:"outlined-multiline-static",label:"Input",multiline:!0,maxRows:6,fullWidth:!0,value:r,error:!!o,onChange:function(e){return a(e.target.value)},variant:"outlined"})}),Object(je.jsx)(re.a,{children:o?Object(je.jsx)(A.a,{severity:"error",children:o}):null})]})}var at=Object(f.a)((function(e){return{chony:{width:"100%"},tableContainer:{maxHeight:650},pre:{whiteSpace:"nowrap"},veryDense:{"& td":{paddingTop:2,paddingBottom:2},"& th":{paddingTop:2,paddingBottom:2}},bar:{transition:"width 0.5s",borderRadius:4}}}));function ot(){var e=Object(g.f)(Ge),t=Object(We.a)(),n=at();return Object(je.jsx)(je.Fragment,{children:e.map((function(e,r){return Object(je.jsx)(Q.a,{component:T.a,className:n.tableContainer,children:Object(je.jsxs)(_.a,{"aria-label":"simple table",stickyHeader:!0,size:"small",children:[Object(je.jsx)(Z.a,{children:Object(je.jsxs)(X.a,{children:[Object(je.jsx)(Y.a,{children:"Value"}),Object(je.jsx)(Y.a,{align:"center",children:"%"}),Object(je.jsx)(Y.a,{align:"center",className:n.chony,children:e.name})]})}),Object(je.jsx)(G.a,{children:e.entries.map((function(e,r){return Object(je.jsxs)(X.a,{className:n.veryDense,children:[Object(je.jsx)(Y.a,{component:"th",scope:"row",className:n.pre,children:e.name},r),Object(je.jsxs)(Y.a,{align:"right",children:[e.uv.toFixed(2),"%"]}),Object(je.jsx)(Y.a,{align:"left",children:Object(je.jsx)("div",{className:n.bar,style:{display:"inline-block",width:"".concat(e.uv,"%"),lineHeight:1.3,backgroundColor:t.palette.text.primary},children:"\xa0"})})]},e.name)}))})]})},r)}))})}function it(){var e=Object(g.d)(Je),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(g.d)(Ke),o=Object(s.a)(a,2),i=o[0],c=o[1],u=Object(g.d)(qe),l=Object(s.a)(u,2),d=l[0],h=l[1];J.a,ce.a,$.a,ce.a,$.a,ce.a,$.a;return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(I.a,{variant:"standard",children:Object(je.jsxs)(H.a,{value:d,onChange:function(e){return h(e.target.value)},children:[Object(je.jsx)(ee.a,{value:"normal",children:"Normal"}),Object(je.jsx)(ee.a,{value:"atleast",children:"At Least"}),Object(je.jsx)(ee.a,{value:"atmost",children:"At Most"})]})}),Object(je.jsx)(ce.a,{control:Object(je.jsx)(U.a,{checked:n,onChange:function(e){return r(e.target.checked)},name:"checkedB",color:"primary"}),label:"Collapse"}),Object(je.jsx)(ce.a,{control:Object(je.jsx)(U.a,{checked:i,onChange:function(e){return c(e.target.checked)},name:"checkedB",color:"primary"}),label:"Transpose"})]})}var st=["children","value","index"];var ct=function(e){Object(Se.a)(n,e);var t=Object(Ne.a)(n);function n(e){var r;return Object(Ce.a)(this,n),(r=t.call(this,e)).state={hasError:!1},r}return Object(Ae.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{children:"Error"}),Object(je.jsxs)("pre",{children:["$",this.state.error.toString()]})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(a.a.Component),ut=Object(f.a)((function(e){return{doc:{padding:e.spacing(2)},chart:{height:"calc(100vh - 350px)",minHeight:300,"& div":{height:"100%"}},pre:{whiteSpace:"nowrap"},paper:{position:"relative"},freshness:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"black",zIndex:1e4,opacity:.5},textbox:{"& textarea":{fontFamily:"monospace"}},bar:{marginTop:e.spacing(1),paddingLeft:e.spacing(1)}}}));function lt(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function dt(e){var t=e.children,n=e.value,r=e.index,a=Object(we.a)(e,st);return Object(je.jsx)("div",Object(v.a)(Object(v.a)({role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},a),{},{children:n===r&&Object(je.jsx)(L.a,{p:3,children:t})}))}function ht(){var e=Object(g.f)(Le),t=Object(g.d)(Ge),n=Object(s.a)(t,2),a=n[0],o=n[1],i=Object(g.g)(Ye),c=Object(g.g)(Ze),u=Object(g.e)(Xe),l=Object(s.a)(u,1)[0];return Object(r.useEffect)((function(){return"hasError"===l.state?(i(!1),void c(l.contents.message)):"hasValue"!==l.state||!1===l.contents?(i(!1),void c(!1)):(i(!0),a!==l.contents&&o(l.contents),void c(!1))}),[l,a,c,i,o,e]),Object(je.jsx)(je.Fragment,{})}function ft(){var e=ut(),t=Object(g.f)(Ge),n=t.map((function(e){return"".concat(e.name,"\n")+"#,%\n"+t[0].entries.map((function(e){return"".concat(e.name,",").concat(e.uv)})).join("\n")})).join("\n\n");return Object(je.jsx)(D.a,{className:e.textbox,label:"Export",readOnly:!0,multiline:!0,rows:20,fullWidth:!0,value:n,variant:"outlined"})}function pt(){var e=Object(g.f)(Ge),t=Object(r.useState)("--"),n=Object(s.a)(t,2),a=n[0],o=n[1];return Object(je.jsxs)(je.Fragment,{children:[a?Object(je.jsx)(F.a,{variant:"h1",component:"h2",gutterBottom:!0,children:a}):null,Object(je.jsx)(E.a,{variant:"contained",color:"primary",onClick:function(){return o(function(e){var t,n=100*Math.random(),r=Object(Fe.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if((n-=parseFloat(a.uv))<=0)return String(a.name)}}catch(o){r.e(o)}finally{r.f()}return"?"}(e[0].raw))},children:"Roll"})]})}function bt(){var e=ut(),t=Object(g.f)(Ye);return Object(je.jsx)("div",{className:e.freshness,style:{display:t?"none":"block"}})}function mt(){var e=ut(),t=Object(r.useState)(0),n=Object(s.a)(t,2),a=n[0],o=n[1];return Object(je.jsxs)(T.a,{className:e.paper,children:[Object(je.jsx)(bt,{}),Object(je.jsx)(w.a,{position:"static",children:Object(je.jsx)(S.a,{variant:"dense",children:Object(je.jsxs)(K.a,{value:a,variant:"scrollable",scrollButtons:"auto",onChange:function(e,t){return o(t)},"aria-label":"simple tabs example",children:[Object(je.jsx)(q.a,Object(v.a)({label:"Table"},lt(0))),Object(je.jsx)(q.a,Object(v.a)({label:"Graph"},lt(1))),Object(je.jsx)(q.a,Object(v.a)({label:"Export"},lt(2))),Object(je.jsx)(q.a,Object(v.a)({label:"Roller"},lt(4)))]})})}),Object(je.jsx)(dt,{value:a,index:0,children:Object(je.jsx)(ot,{})}),Object(je.jsx)(dt,{value:a,index:1,className:e.chart,children:Object(je.jsx)(tt,{})}),Object(je.jsx)(dt,{value:a,index:2,children:Object(je.jsx)(ft,{})}),Object(je.jsx)(dt,{value:a,index:3,children:Object(je.jsx)(pt,{})})]})}function gt(){var e=Object(g.f)(Ue);return Object(je.jsx)(A.a,{severity:"info",style:{fontFamily:"monospace"},children:e.v?Object(Ie.debug)(e.v):""})}function vt(){var e=ut(),t=new URLSearchParams(Object(u.g)().search),n=Object(r.useState)(!1),o=Object(s.a)(n,2),i=o[0],c=o[1],l=Object(g.g)(Ve);return t.get("input")&&!i&&setTimeout((function(){l(t.get("input")),c(!0)})),Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(rt,{}),Object(je.jsx)(te.a,{className:e.bar,children:Object(je.jsx)(re.a,{children:Object(je.jsx)(it,{})})}),Object(je.jsx)(ct,{children:Object(je.jsx)(r.Suspense,{children:Object(je.jsx)(ht,{})})}),Object(je.jsx)("br",{}),Object(je.jsx)(ct,{children:Object(je.jsxs)(a.a.Suspense,{fallback:Object(je.jsx)("div",{children:"Loading..."}),children:[" ",Object(je.jsx)(mt,{})]})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)(gt,{})]})}var jt=n(138),yt=Object(f.a)((function(e){return{doc:{padding:e.spacing(2)},h1:{paddingTop:e.spacing(3),paddingBottom:e.spacing(1)},h2:{paddingTop:e.spacing(3),paddingBottom:e.spacing(1)},h3:{paddingTop:e.spacing(3),paddingBottom:e.spacing(1)},h4:{paddingTop:e.spacing(3),paddingBottom:e.spacing(1)},h5:{paddingTop:e.spacing(3),paddingBottom:e.spacing(1)},h6:{paddingTop:e.spacing(3),paddingBottom:e.spacing(1)},p:{paddingBottom:e.spacing(2)},code:{display:"inline",backgroundColor:e.palette.background.default,padding:e.spacing(.5)},example:{fontFamily:"monospace",whiteSpace:"pre",textTransform:"none"}}}));function kt(e){var t=e.children,n=yt(),r="/?input=".concat(encodeURIComponent(t?t[0]:""));return Object(je.jsx)(E.a,{component:l.b,size:"small",to:r,color:"primary",variant:"contained",className:n.example,children:t})}function xt(e){var t=e.markdown,n=yt(),r={overrides:{h1:{component:F.a,props:{variant:"h3",className:n.h1}},h2:{component:F.a,props:{variant:"h4",className:n.h2}},h3:{component:F.a,props:{variant:"h5",className:n.h3}},h4:{component:F.a,props:{variant:"h6",className:n.h4}},p:{component:F.a,props:{variant:"body1",className:n.p}},a:{component:P.a},li:{component:F.a,props:{component:"li"}},code:{component:"code",props:{className:n.code}},kbd:{component:kt}}};return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsxs)(T.a,{className:n.doc,children:["string"==typeof t&&Object(je.jsx)(jt.a,{options:r,children:t}),!1===t&&Object(je.jsx)(V.a,{className:n.backdrop,children:Object(je.jsx)(W.a,{size:"200px"})})]}),Object(je.jsx)("div",{className:n.muted,children:"66cc2a436da0f949f16501f781ab46e49f06252a"})]})}var Ot=n(205),wt=Object(f.a)(k);function Ct(){var e=Object(u.g)();return Object(r.useEffect)((function(){n.e(3).then(n.bind(null,328)).then((function(t){t.initialize("UA-216675716-1"),t.pageview(e.pathname+e.search)}))}),[e]),null}function At(){var e=wt(),t=Object(Oe.a)("(prefers-color-scheme: dark)"),n=Object(r.useState)(void 0),o=Object(s.a)(n,2),i=o[0],f=o[1];i=i||(t?"dark":"light");var v=a.a.useMemo((function(){return Object(p.a)({palette:{primary:{main:"light"===i?d.a[700]:d.a[200]},secondary:{main:"light"===i?Object(b.b)(h.a.A400,.1):h.a[200]},type:i,background:{}}})}),[i]),j=Object(u.f)();localStorage.redirect&&(j.replace(localStorage.redirect),delete localStorage.redirect);var y=a.a.useState(void 0),k=Object(s.a)(y,2),x=k[0],A=k[1],N=Object(Oe.a)(v.breakpoints.up("md")),D="undefined"===typeof x?N:x,T=Object(g.d)(He),P=Object(s.a)(T,2),I=P[0],M=P[1],z=Object(g.f)($e);return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(m.a,{theme:v,children:Object(je.jsxs)(l.a,{children:[Object(je.jsxs)("div",{className:e.root,children:[Object(je.jsx)(xe.a,{}),Object(je.jsx)(C.a,{message:"A new version of the app is available!",action:Object(je.jsx)(E.a,{onClick:function(){console.log("UPDATE!"),z.postMessage({type:"SKIP_WAITING"}),M(!1),window.location.reload(!0)},color:"inherit",size:"small",children:"Update"}),open:I,autoHideDuration:6e3,onClose:function(){return M(!1)}}),Object(je.jsx)(w.a,{position:"absolute",className:Object(c.a)(e.appBar,D&&e.appBarShift),children:Object(je.jsxs)(S.a,{className:e.toolbar,children:[Object(je.jsx)(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){A(!0)},className:Object(c.a)(e.menuButton,D&&e.menuButtonHidden),children:Object(je.jsx)(oe.a,{})}),Object(je.jsx)(F.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"Dicey"}),Object(je.jsx)(O.a,{color:"inherit",onClick:function(){return f("light"===i?"dark":"light")},children:Object(je.jsx)(se.a,{})})]})}),Object(je.jsx)(ke,{open:D,handleDrawerClose:function(){A(!1)}}),Object(je.jsxs)("main",{className:e.content,children:[Object(je.jsx)("div",{className:e.appBarSpacer}),Object(je.jsx)(B.a,{maxWidth:"lg",className:e.container,children:Object(je.jsx)(r.Suspense,{fallback:Object(je.jsx)(V.a,{className:e.backdrop,children:Object(je.jsx)(W.a,{size:"200px"})}),children:Object(je.jsxs)(u.c,{children:[Object(je.jsx)(u.a,{exact:!0,path:"/",component:vt}),Object(je.jsx)(u.a,{path:"/:page",render:function(e){var t=e.match,n="./".concat(t.params.page,".md");return-1!==Ot.keys().indexOf(n)?Object(je.jsx)(xt,{markdown:Ot(n).default}):Object(je.jsx)("h1",{children:"404"})}})]})})})]})]}),Object(je.jsx)(Ct,{})]})})})}var St=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,327)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),o(e),i(e)}))},Nt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ft(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Nt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Et(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Et(t,e)}))}}function Et(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function Bt(){var e=Object(g.g)(He),t=Object(g.g)($e);return Object(r.useEffect)((function(){Ft({onUpdate:function(n){e(!0),t(n.waiting)}})}),[e,t]),Object(je.jsx)(At,{})}i.a.render(Object(je.jsx)(a.a.StrictMode,{children:Object(je.jsx)(g.a,{children:Object(je.jsx)(Bt,{})})}),document.getElementById("root")),St()},99:function(e,t,n){var r;try{r=n(182)}catch(p){r=n(183).generate(n(195))}var a=n(124),o=a.Die,i=a.SetValue,s=(a.Cloud,a.NumberValue),c=a.BinaryOperation,u=a.Call,l=a.Block,d=a.StringValue,h=a.ksort,f=n(203).Output;e.exports={parser:r,debug:function e(t){if("number"==typeof t)return t;if("undefined"==typeof t)return"?";switch(t.type){case"output":return"output ".concat(e(t.expression),"\n");case"block":return t.body.map(e);case"die":return"".concat(void 0==t.times?"":"("+e(t.times)+")","d").concat(e(t.sides));case"set":return"{"+t.elements.map((function(t){return e(t)})).join(",")+"}";case"math":return"(".concat(e(t.left)," ").concat(t.op," ").concat(e(t.right),")");case"ntimes":return"(".concat(e(t.left)," x ").concat(e(t.right),")");case"call":return"".concat(t.name,"(").concat(t.args.map((function(t){return e(t)})).join(", "),")");case"string":return JSON.stringify(t.value);default:throw new Error("Unknown type: ".concat(t.type))}},valueize:function e(t){if("number"==typeof t)return new s(t);switch(t.type){case"block":return new l(t.body.map(e));case"output":return new f(e(t.expression),t.name,t.text);case"die":return new o(e(t.sides),t.times?e(t.times):void 0);case"set":return new i(t.elements.map((function(t){return e(t)})),!0);case"string":return new d(t.value);case"math":return new c(e(t.left),[t.op,t.m],e(t.right));case"ntimes":var n=e(t.left),r=e(t.right);return"number"==n.type?new i(new Array(n.value).fill(0).map((function(e){return r}))):new c(n,"ntimes",r);case"call":return new u(t.name,t.args.map((function(t){return e(t)})));default:throw console.log("??",t,typeof t),new Error("Unknown type: ".concat(t.type))}},keyComp:function(e,t){if("number"==typeof e&&"number"==typeof t)return h(t,e);for(var n=0;n<t.length;++n){if(void 0===t[n])return 1;if(e[n]!=t[n])return h(t[n],e[n])}return t.length>e.length?-1:0}}}},[[211,1,2]]]);
//# sourceMappingURL=main.7f90dd2b.chunk.js.map